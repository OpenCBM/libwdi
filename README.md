libwdi: A Windows Driver Installation library for USB devices
=============================================================

[![Build status](https://img.shields.io/github/workflow/status/pbatard/libwdi/VS2019.svg?style=flat-square&label=VS2019)](https://github.com/pbatard/libwdi/actions/workflows/vs2019.yml)
[![Build status](https://img.shields.io/github/workflow/status/pbatard/libwdi/MinGW.svg?style=flat-square&label=MinGW)](https://github.com/pbatard/libwdi/actions/workflows/mingw.yml)
[![Coverity Scan Build Status](https://img.shields.io/coverity/scan/2174.svg?style=flat-square&label=Coverity)](https://scan.coverity.com/projects/pbatard-libwdi)
[![Github stats](https://img.shields.io/github/downloads/pbatard/libwdi/total.svg?style=flat-square&label=Downloads)](https://github.com/pbatard/libwdi/releases)
[![Licence](https://img.shields.io/badge/license-LGPLv3-blue.svg?style=flat-square&label=License)](https://www.gnu.org/licenses/lgpl-3.0.en.html)

Main features
-------------

* Automated inf creation, using reported USB device name
* Automated catalog file creation and signing, using autogenerated certificate
* Automated driver files extraction, for both 32 and 64 bit platforms
* Automated driver installation, including UAC elevation where necessary
* Single library embedding all the required files
* Supports Windows platform from Windows 7 to Windows 10 (but **NOT** Windows 11)

## IMPORTANT NOTICE REGARDING WINDOWS 11

Libwdi is **NOT COMPATIBLE WITH WINDOWS 11 OR LATER**.

This is due to Microsoft having removed Windows users' ability to indicate whether
they want to trust a driver package in Windows 11, which
[libwdi needs in order to install a driver](https://community.osr.com/discussion/293115/windows-11-and-alternative-driver-installation-method-in-libwdi).

Currently, there is no known way to work around this, which means that libwdi is
unlikely to ever be compatible with Windows 11.

If you are unhappy about this, feel free to tell Microsoft that keeping a user's
ability to declare whether they want to trust a driver package, by adding its
signing certificate into the *Trusted Publishers* store, is an important feature
of earlier versions of Windows that should be retained in Windows 11.

Additional features
-------------------

* Embedding of WinUSB, libusb0.sys or libusbK.sys, USB Serial (CDC) or your own 
  USB drivers (eg. WHQL)
* Full locale support with UTF-8 API strings and UTF-16 autogenerated inf files
* Resolution of USB Vendor IDs, based on the data maintained by Stephen J. Gowdy 
  at http://www.linux-usb.org/usb.ids
* Fully Open Source (LGPL v3), with multiple sample applications
* Supports MinGW32, MinGW-w64, Visual Studio, WDK

Installation and Compilation
----------------------------

See: https://github.com/pbatard/libwdi/wiki/Install

API usage
---------

See: https://github.com/pbatard/libwdi/wiki/Usage

FAQ
---

See: https://github.com/pbatard/libwdi/wiki/FAQ
